<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="./css/index.css" />
  <link rel="stylesheet" type="text/css" href="./css/clients.css" />
  <title>Drawbridge Dashboard</title>
</head>

<body>
  <div class="container">
    <div id="sidebar">
      <ul>
        <li>
          <a href="./index.html">Protected Services</a>
        </li>
        <li>
          <a href="./clients.html">Emissary Clients</a>
        </li>
      </ul>
    </div>
    <div id="content">
      <h1>Emissary Clients</h1>
      <div>
        <h2>Emissary Bundle</h2>
        <p>An Emissary Bundle is a preconfigured package that allows easy connection to your Drawbridge server.</p>
        <p>Share this bundle with your users, and they can unzip and launch Emissary without any manual setup required.</p>
        <p>Note: Each Emissary Bundle contains a unique mTLS key and certificate, so make sure to generate a new Bundle for each machine that runs Emissary.</p>
        <form id="bundle-form" method="get" action="/admin/get/emissary/bundle">
          <label for="emissary-platform">Platform</label>
          <select id="service-name" name="emissary-platform" placeholder="macOS">
            <option value="macos">macOS</option>
            <option value="windows">Windows</option>
            <option value="linux">Linux</option>
          </select>
          <input id="emissary-bundle-btn" type="submit" value="Create Emissary Bundle">
        </form>

      </div>
      <div id="devices" class="section">
        <h2>Manage Emissary Device Fleet</h2>
        <ul id="device-fleet-list" hx-get="/emissary/get/clients" hx-trigger="load" hx-target="this" hx-swap="outerHTML"></ul>
      </div>
    </div>
  </div>


</body>
<script src="./htmx.min.js"></script>
<script src="./_hyperscript.min.js"></script>

</html>